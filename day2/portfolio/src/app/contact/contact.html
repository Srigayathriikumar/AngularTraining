<section class="contact">
  <div class="container">
    <h1>Contact Me</h1>
    
    <!-- Success Message -->
    <!-- Success Message -->
    <div *ngIf="showSuccessMessage" class="success-notification">
      <i class="pi pi-check-circle"></i>
      <span>Email sent successfully! I'll get back to you soon.</span>
    </div>
    
    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-notification" (click)="clearError()">
      <i class="pi pi-exclamation-triangle"></i>
      <span>{{ errorMessage }}</span>
      <i class="pi pi-times close-btn"></i>
    </div>
    
    <div class="contact-grid">
      <div class="contact-info">
        <h2>Get In Touch</h2>
        <p>I'm always open to discussing new opportunities and interesting projects. Feel free to reach out!</p>
        
        <div class="contact-methods">
          <div class="contact-method">
            <div class="contact-icon"><i class="pi pi-linkedin"></i></div>
            <div>
              <h3>LinkedIn</h3>
              <p><a [href]="contactInfo.linkedin" target="_blank" style="color: #991b1b; text-decoration: none;">View Profile</a></p>
            </div>
          </div>
          
          <div class="contact-method">
            <div class="contact-icon"><i class="pi pi-github"></i></div>
            <div>
              <h3>GitHub</h3>
              <p><a [href]="contactInfo.github" target="_blank" style="color: #991b1b; text-decoration: none;">View Projects</a></p>
            </div>
          </div>
          
          <div class="contact-method">
            <div class="contact-icon"><i class="pi pi-envelope"></i></div>
            <div>
              <h3>Email</h3>
              <p><a [href]="'mailto:' + contactInfo.email" style="color: #991b1b; text-decoration: none;">{{ contactInfo.email }}</a></p>
            </div>
          </div>
          
          <div class="contact-method">
            <div class="contact-icon"><i class="pi pi-phone"></i></div>
            <div>
              <h3>Phone</h3>
              <p>{{ contactInfo.phone }}</p>
            </div>
          </div>
          
          <div class="contact-method">
            <div class="contact-icon"><i class="pi pi-map-marker"></i></div>
            <div>
              <h3>Location</h3>
              <p>{{ contactInfo.location }}</p>
            </div>
          </div>
        </div>
      </div>

      <div class="contact-form">
        <h2>Send Message</h2>
        <form (ngSubmit)="sendEmail()" #contactForm="ngForm">
          <div class="form-group">
            <label for="name">Name</label>
            <input 
              type="text" 
              id="name" 
              name="name" 
              [(ngModel)]="formData.name" 
              required
              #name="ngModel">
            <div *ngIf="name.invalid && name.touched" class="error">Name is required</div>
          </div>

          <div class="form-group">
            <label for="email">Email</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              [(ngModel)]="formData.email" 
              required 
              email
              #email="ngModel">
            <div *ngIf="email.invalid && email.touched" class="error">Valid email is required</div>
          </div>

          <div class="form-group">
            <label for="subject">Subject</label>
            <input 
              type="text" 
              id="subject" 
              name="subject" 
              [(ngModel)]="formData.subject" 
              required
              #subject="ngModel">
            <div *ngIf="subject.invalid && subject.touched" class="error">Subject is required</div>
          </div>

          <div class="form-group">
            <label for="message">Message</label>
            <textarea 
              id="message" 
              name="message" 
              rows="5" 
              [(ngModel)]="formData.message" 
              required
              #message="ngModel"></textarea>
            <div *ngIf="message.invalid && message.touched" class="error">Message is required</div>
          </div>

          <button type="submit" class="btn-send" [disabled]="contactForm.invalid || isLoading">
            <i class="pi" [class.pi-send]="!isLoading" [class.pi-spin]="isLoading" [class.pi-spinner]="isLoading"></i>
            {{ isLoading ? 'Sending...' : 'Send Message' }}
          </button>
        </form>
      </div>
    </div>
  </div>
</section>